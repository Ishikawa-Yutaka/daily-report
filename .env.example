# ===========================================
# 環境変数設定ファイル（日報アプリ）
# ===========================================
# このファイルは環境変数のテンプレートです。
# 新規セットアップ時は、このファイルをコピーして .env を作成してください:
#   cp .env.example .env
#
# その後、[YOUR-XXX] の部分を実際の値に置き換えてください。

# -------------------------------------------
# データベース接続設定（Supabase PostgreSQL）
# -------------------------------------------
# DATABASE_URL: Prismaがデータベースに接続するための接続文字列
# 形式: postgresql://[ユーザー名]:[パスワード]@[ホスト]:[ポート]/[データベース名]
#
# 取得方法:
#   1. Supabaseダッシュボード > Project Settings > Database
#   2. Connection stringの「URI」をコピー
#   3. [YOUR-PASSWORD] を実際のデータベースパスワードに置き換え
#
# 注意: パスワードに特殊文字（@, %, #など）が含まれる場合はURLエンコードが必要です
#   例: @ → %40, % → %25, # → %23
DATABASE_URL="postgresql://postgres.[YOUR-PROJECT-REF]:[YOUR-PASSWORD]@aws-0-[YOUR-REGION].pooler.supabase.com:5432/postgres"

# 別の形式（直接接続）:
# DATABASE_URL="postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres"

# -------------------------------------------
# Supabase設定（認証機能で使用）
# -------------------------------------------
# Supabaseダッシュボード > Project Settings > API から取得できます
#
# NEXT_PUBLIC_SUPABASE_URL: SupabaseプロジェクトのURL
#   - 形式: https://[YOUR-PROJECT-REF].supabase.co
#
# NEXT_PUBLIC_SUPABASE_ANON_KEY: 公開用の匿名キー（クライアント側で使用）
#   - Project Settings > API > Project API keys > anon public
NEXT_PUBLIC_SUPABASE_URL="https://[YOUR-PROJECT-REF].supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="[YOUR-ANON-KEY]"

# -------------------------------------------
# JWT認証設定（日報アプリ独自の認証システム）
# -------------------------------------------
# JWT_SECRET: JWTトークンの署名に使用する秘密鍵
#
# セキュリティ要件:
#   - 最低32文字以上のランダムな文字列を使用
#   - 本番環境では必ず変更すること
#   - この値を第三者に知られないこと
#   - 顧客ごとに異なる値を使用すること（重要！）
#
# 生成方法:
#   方法1（Node.js）:
#     node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
#   方法2（OpenSSL）:
#     openssl rand -hex 32
#
# 注意: 以下のサンプル値は使用しないでください。必ず新しい値を生成してください。
JWT_SECRET="your-very-secret-jwt-key-change-this-in-production-minimum-32-characters"

# ===========================================
# セットアップ手順
# ===========================================
#
# 1. このファイルをコピーして .env を作成
#    cp .env.example .env
#
# 2. Supabaseで新規プロジェクトを作成
#    https://supabase.com/dashboard
#
# 3. DATABASE_URL を設定
#    - Supabaseダッシュボード > Project Settings > Database > Connection string (URI)
#    - [YOUR-PASSWORD] を実際のパスワードに置き換え
#
# 4. Supabase設定を取得
#    - Supabaseダッシュボード > Project Settings > API
#    - Project URL と anon public key をコピー
#
# 5. JWT_SECRET を生成
#    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# 6. データベースマイグレーションを実行
#    MIGRATION.md の手順に従ってSQLを実行
#
# 7. Prismaクライアントを生成
#    npx prisma generate
#
# 8. 開発サーバーを起動
#    npm run dev
#
# 9. 初回セットアップでスーパーアドミンを作成
#    http://localhost:3000/setup
#
# ===========================================
# 重要な注意事項
# ===========================================
#
# ⚠️ セキュリティ:
#   - .env ファイルは絶対にGitにコミットしないこと
#   - JWT_SECRET は顧客ごとに異なる値を使用すること
#   - 本番環境とローカル環境で異なる値を使用すること
#
# ⚠️ 顧客への提供時:
#   - 各顧客専用のSupabaseプロジェクトを作成
#   - 各顧客専用のJWT_SECRETを生成
#   - データベースを顧客間で共有しないこと
#
# ⚠️ Vercelデプロイ時:
#   - Vercelダッシュボードで環境変数を設定
#   - ローカルの .env とは別に管理
#   - Production, Preview, Development すべてにチェック
